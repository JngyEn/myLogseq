## 需求：
id:: 679228fa-8bee-47ae-850c-6f883cbd68f9
	- 别人可以看见活动总访问人数
	- 可以看到自己的浏览记录
- ## 参考：
	- **基于本地消息表实现分布式事务保证最终一致性**（语雀）
- ## 可行方案：
  id:: 039bc993-25f1-4c78-9aab-2a2c7f04095e
	- 按照[[点赞记录]]的思路，用 [[redis]的zset 记录浏览信息，这个方案的业务需求是：
	  logseq.order-list-type:: number
		- 记录点赞排序
		  logseq.order-list-type:: number
		- 记录总数量
		  logseq.order-list-type:: number
		- 可点赞/取消
		  logseq.order-list-type:: number
		- 可看见点赞时间
		  logseq.order-list-type:: number
- ## 可能存在的问题
  id:: 1089e02d-2806-4611-a5ac-0869ec4fac8d
	- [[Redis/挂了]]怎么办
	  logseq.order-list-type:: number
		- 大型项目中，除了设计机制防止挂掉之外，主要是下列三个方案：
		  logseq.order-list-type:: number
			- 限流+降级，用数据库顶
			  logseq.order-list-type:: number
			- 备份，哨兵，集群之类的
			  logseq.order-list-type:: number
			- 切换本地缓存，但是要考虑不一致的问题
			  logseq.order-list-type:: number
		- 我们可以：
		  logseq.order-list-type:: number
			- 发现：设置try，报错了则log.warn
			  logseq.order-list-type:: number
			- 其他业务照常进行，因为浏览记录都是要插入数据库的，所以能保证最终一致性
			  logseq.order-list-type:: number